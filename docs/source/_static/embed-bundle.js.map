{"version":3,"sources":["webpack://jupyter-matplotlib/./src/index.ts","webpack://jupyter-matplotlib/./src/mpl_widget.ts","webpack://jupyter-matplotlib/./src/toolbar_widget.ts","webpack://jupyter-matplotlib/./src/utils.ts","webpack://jupyter-matplotlib/./src/version.ts","webpack://jupyter-matplotlib/external \"@jupyter-widgets/base\"","webpack://jupyter-matplotlib/webpack/bootstrap","webpack://jupyter-matplotlib/webpack/startup"],"names":[],"mappings":"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","file":"embed-bundle.js","sourcesContent":["// Export widget models and views, and the npm package version number.\nexport * from './mpl_widget';\nexport * from './toolbar_widget';\nexport * from './version';\n","import {\n    DOMWidgetModel,\n    DOMWidgetView,\n    ISerializers,\n    unpack_models,\n} from '@jupyter-widgets/base';\nimport * as utils from './utils';\n\nimport { MODULE_VERSION } from './version';\n\nexport class MPLCanvasModel extends DOMWidgetModel {\n    offscreen_canvas: HTMLCanvasElement;\n    offscreen_context: CanvasRenderingContext2D;\n    requested_size: Array<number> | null;\n    resize_requested: boolean;\n    ratio: number;\n    waiting: any;\n    image: HTMLImageElement;\n    defaults() {\n        return {\n            ...super.defaults(),\n            _model_name: 'MPLCanvasModel',\n            _view_name: 'MPLCanvasView',\n            _model_module: 'jupyter-matplotlib',\n            _view_module: 'jupyter-matplotlib',\n            _model_module_version: '^' + MODULE_VERSION,\n            _view_module_version: '^' + MODULE_VERSION,\n            header_visible: true,\n            footer_visible: true,\n            toolbar: null,\n            toolbar_visible: true,\n            toolbar_position: 'horizontal',\n            resizable: true,\n            capture_scroll: false,\n            _width: 0,\n            _height: 0,\n            _figure_label: 'Figure',\n            _message: '',\n            _cursor: 'pointer',\n            _image_mode: 'full',\n            _rubberband_x: 0,\n            _rubberband_y: 0,\n            _rubberband_width: 0,\n            _rubberband_height: 0,\n        };\n    }\n\n    static serializers: ISerializers = {\n        ...DOMWidgetModel.serializers,\n        toolbar: { deserialize: unpack_models as any },\n    };\n\n    initialize(attributes: any, options: any) {\n        super.initialize(attributes, options);\n\n        this.offscreen_canvas = document.createElement('canvas');\n        this.offscreen_context = utils.getContext(this.offscreen_canvas);\n\n        // use `as any` to avoid typescript complaining that\n        // these browser specific attributes don't exist.\n        const context = this.offscreen_context as any;\n        const backingStore =\n            context.backingStorePixelRatio ||\n            context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            1;\n\n        this.requested_size = null;\n        this.resize_requested = false;\n        this.ratio = (window.devicePixelRatio || 1) / backingStore;\n        this._init_image();\n\n        this.on('msg:custom', this.on_comm_message.bind(this));\n        this.on('change:resizable', () => {\n            this._for_each_view((view: MPLCanvasView) => {\n                view.update_canvas();\n            });\n        });\n\n        this.send_initialization_message();\n    }\n\n    send_message(type: string, message: { [index: string]: any } = {}) {\n        message['type'] = type;\n\n        this.send(message, {});\n    }\n\n    send_initialization_message() {\n        if (this.ratio !== 1) {\n            this.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });\n        }\n\n        this.send_message('send_image_mode');\n        this.send_message('refresh');\n\n        this.send_message('initialized');\n    }\n\n    send_draw_message() {\n        if (!this.waiting) {\n            this.waiting = true;\n            this.send_message('draw');\n        }\n    }\n\n    handle_save() {\n        const save = document.createElement('a');\n        save.href = this.offscreen_canvas.toDataURL();\n        save.download = this.get('_figure_label') + '.png';\n        document.body.appendChild(save);\n        save.click();\n        document.body.removeChild(save);\n    }\n\n    handle_resize(msg: { [index: string]: any }) {\n        const size = msg['size'];\n        this.resize_canvas(size[0], size[1]);\n        this.offscreen_context.drawImage(this.image, 0, 0);\n\n        if (!this.resize_requested) {\n            this._for_each_view((view: MPLCanvasView) => {\n                view.resize_canvas(size[0], size[1]);\n            });\n        }\n\n        this.send_message('refresh');\n\n        this.resize_requested = false;\n        if (this.requested_size !== null) {\n            // Requesting saved resize\n            this.resize(this.requested_size[0], this.requested_size[1]);\n            this.requested_size = null;\n        }\n    }\n\n    resize(width: number, height: number) {\n        // Do not request a super small size, as it seems to break the back-end\n        if (width <= 5 || height <= 5) {\n            return;\n        }\n\n        this._for_each_view((view: MPLCanvasView) => {\n            // Do an initial resize of each view, stretching the old canvas.\n            view.resize_canvas(width, height);\n        });\n\n        if (this.resize_requested) {\n            // If a resize was already requested, save the requested size for later\n            this.requested_size = [width, height];\n        } else {\n            this.resize_requested = true;\n            this.send_message('resize', { width: width, height: height });\n        }\n    }\n\n    resize_canvas(width: number, height: number) {\n        this.offscreen_canvas.setAttribute('width', `${width * this.ratio}`);\n        this.offscreen_canvas.setAttribute('height', `${height * this.ratio}`);\n    }\n\n    handle_rubberband(msg: any) {\n        let x0 = msg['x0'] / this.ratio;\n        let y0 = (this.offscreen_canvas.height - msg['y0']) / this.ratio;\n        let x1 = msg['x1'] / this.ratio;\n        let y1 = (this.offscreen_canvas.height - msg['y1']) / this.ratio;\n        x0 = Math.floor(x0) + 0.5;\n        y0 = Math.floor(y0) + 0.5;\n        x1 = Math.floor(x1) + 0.5;\n        y1 = Math.floor(y1) + 0.5;\n\n        this.set('_rubberband_x', Math.min(x0, x1));\n        this.set('_rubberband_y', Math.min(y0, y1));\n        this.set('_rubberband_width', Math.abs(x1 - x0));\n        this.set('_rubberband_height', Math.abs(y1 - y0));\n        this.save_changes();\n\n        this._for_each_view((view: MPLCanvasView) => {\n            view.update_canvas();\n        });\n    }\n\n    handle_draw(_msg: any) {\n        // Request the server to send over a new figure.\n        this.send_draw_message();\n    }\n\n    handle_binary(msg: any, dataviews: any) {\n        const url_creator = window.URL || window.webkitURL;\n\n        const buffer = new Uint8Array(dataviews[0].buffer);\n        const blob = new Blob([buffer], { type: 'image/png' });\n        const image_url = url_creator.createObjectURL(blob);\n\n        // Free the memory for the previous frames\n        if (this.image.src) {\n            url_creator.revokeObjectURL(this.image.src);\n        }\n\n        this.image.src = image_url;\n\n        // Tell Jupyter that the notebook contents must change.\n        this.send_message('ack');\n\n        this.waiting = false;\n    }\n\n    on_comm_message(evt: any, dataviews: any) {\n        const msg = JSON.parse(evt.data);\n        const msg_type = msg['type'];\n        let callback;\n\n        // Call the  'handle_{type}' callback, which takes\n        // the figure and JSON message as its only arguments.\n        try {\n            callback = (this as any)['handle_' + msg_type].bind(this);\n        } catch (e) {\n            console.log(\n                \"No handler for the '\" + msg_type + \"' message type: \",\n                msg\n            );\n            return;\n        }\n\n        if (callback) {\n            callback(msg, dataviews);\n        }\n    }\n\n    _init_image() {\n        this.image = document.createElement('img');\n        this.image.onload = () => {\n            if (this.get('_image_mode') === 'full') {\n                // Full images could contain transparency (where diff images\n                // almost always do), so we need to clear the canvas so that\n                // there is no ghosting.\n                this.offscreen_context.clearRect(\n                    0,\n                    0,\n                    this.offscreen_canvas.width,\n                    this.offscreen_canvas.height\n                );\n            }\n            this.offscreen_context.drawImage(this.image, 0, 0);\n\n            this._for_each_view((view: MPLCanvasView) => {\n                view.update_canvas();\n            });\n        };\n    }\n\n    _for_each_view(callback: any) {\n        for (const view_id in this.views) {\n            this.views[view_id].then((view) => {\n                callback(view);\n            });\n        }\n    }\n\n    remove() {\n        this.send_message('closing');\n    }\n}\n\nexport class MPLCanvasView extends DOMWidgetView {\n    figure: HTMLDivElement;\n    canvas_div: HTMLDivElement;\n    canvas: HTMLCanvasElement;\n    header: HTMLDivElement;\n    toolbar_view: DOMWidgetView;\n    resize_handle_size: number;\n    resizing: boolean;\n    context: CanvasRenderingContext2D;\n    top_canvas: HTMLCanvasElement;\n    top_context: CanvasRenderingContext2D;\n    waiting: boolean;\n    footer: HTMLDivElement;\n    model: MPLCanvasModel;\n    private _key: string | null;\n    private _resize_event: (event: MouseEvent) => void;\n    private _stop_resize_event: () => void;\n    render() {\n        this.resizing = false;\n        this.resize_handle_size = 20;\n\n        this.figure = document.createElement('div');\n        this.figure.classList.add(\n            'jupyter-matplotlib-figure',\n            'jupyter-widgets',\n            'widget-container',\n            'widget-box',\n            'widget-vbox'\n        );\n\n        this._init_header();\n        this._init_canvas();\n        this._init_footer();\n\n        this._resize_event = this.resize_event.bind(this);\n        this._stop_resize_event = this.stop_resize_event.bind(this);\n        window.addEventListener('mousemove', this._resize_event);\n        window.addEventListener('mouseup', this._stop_resize_event);\n\n        this.waiting = false;\n\n        return this.create_child_view(this.model.get('toolbar')).then(\n            (toolbar_view) => {\n                this.toolbar_view = toolbar_view;\n\n                this._update_toolbar_position();\n\n                this._update_header_visible();\n                this._update_footer_visible();\n                this._update_toolbar_visible();\n\n                this.model_events();\n            }\n        );\n    }\n\n    model_events() {\n        this.model.on(\n            'change:header_visible',\n            this._update_header_visible.bind(this)\n        );\n        this.model.on(\n            'change:footer_visible',\n            this._update_footer_visible.bind(this)\n        );\n        this.model.on(\n            'change:toolbar_visible',\n            this._update_toolbar_visible.bind(this)\n        );\n        this.model.on(\n            'change:toolbar_position',\n            this._update_toolbar_position.bind(this)\n        );\n        this.model.on(\n            'change:_figure_label',\n            this._update_figure_label.bind(this)\n        );\n        this.model.on('change:_message', this._update_message.bind(this));\n        this.model.on('change:_cursor', this._update_cursor.bind(this));\n    }\n\n    _update_header_visible() {\n        this.header.style.display = this.model.get('header_visible')\n            ? ''\n            : 'none';\n    }\n\n    _update_footer_visible() {\n        this.footer.style.display = this.model.get('footer_visible')\n            ? ''\n            : 'none';\n    }\n\n    _update_toolbar_visible() {\n        this.toolbar_view.el.style.display = this.model.get('toolbar_visible')\n            ? ''\n            : 'none';\n    }\n\n    _update_toolbar_position() {\n        const toolbar_position = this.model.get('toolbar_position');\n        if (toolbar_position === 'top' || toolbar_position === 'bottom') {\n            this.el.classList.add(\n                'jupyter-widgets',\n                'widget-container',\n                'widget-box',\n                'widget-vbox',\n                'jupyter-matplotlib'\n            );\n            this.model.get('toolbar').set('orientation', 'horizontal');\n\n            this.clear();\n\n            if (toolbar_position === 'top') {\n                this.el.appendChild(this.toolbar_view.el);\n                this.el.appendChild(this.figure);\n            } else {\n                this.el.appendChild(this.figure);\n                this.el.appendChild(this.toolbar_view.el);\n            }\n        } else {\n            this.el.classList.add(\n                'jupyter-widgets',\n                'widget-container',\n                'widget-box',\n                'widget-hbox',\n                'jupyter-matplotlib'\n            );\n            this.model.get('toolbar').set('orientation', 'vertical');\n\n            this.clear();\n\n            if (toolbar_position === 'left') {\n                this.el.appendChild(this.toolbar_view.el);\n                this.el.appendChild(this.figure);\n            } else {\n                this.el.appendChild(this.figure);\n                this.el.appendChild(this.toolbar_view.el);\n            }\n        }\n    }\n\n    clear() {\n        while (this.el.firstChild) {\n            this.el.removeChild(this.el.firstChild);\n        }\n    }\n\n    _init_header() {\n        this.header = document.createElement('div');\n        this.header.style.textAlign = 'center';\n        this.header.classList.add('jupyter-widgets', 'widget-label');\n        this._update_figure_label();\n        this.figure.appendChild(this.header);\n    }\n\n    _update_figure_label() {\n        this.header.textContent = this.model.get('_figure_label');\n    }\n\n    _init_canvas() {\n        const canvas_container = document.createElement('div');\n        canvas_container.classList.add(\n            'jupyter-widgets',\n            'jupyter-matplotlib-canvas-container'\n        );\n        this.figure.appendChild(canvas_container);\n\n        const canvas_div = (this.canvas_div = document.createElement('div'));\n        canvas_div.style.position = 'relative';\n        canvas_div.style.clear = 'both';\n        canvas_div.classList.add(\n            'jupyter-widgets',\n            'jupyter-matplotlib-canvas-div'\n        );\n\n        canvas_div.addEventListener('keydown', this.key_event('key_press'));\n        canvas_div.addEventListener('keyup', this.key_event('key_release'));\n\n        // this is important to make the div 'focusable'\n        canvas_div.setAttribute('tabindex', '0');\n        canvas_container.appendChild(canvas_div);\n\n        const canvas = (this.canvas = document.createElement('canvas'));\n        canvas.style.display = 'block';\n        canvas.style.position = 'absolute';\n        canvas.style.left = '0';\n        canvas.style.top = '0';\n        canvas.style.zIndex = '0';\n\n        this.context = utils.getContext(canvas);\n\n        const top_canvas = (this.top_canvas = document.createElement('canvas'));\n        top_canvas.style.display = 'block';\n        top_canvas.style.position = 'absolute';\n        top_canvas.style.left = '0';\n        top_canvas.style.top = '0';\n        top_canvas.style.zIndex = '1';\n\n        top_canvas.addEventListener(\n            'mousedown',\n            this.mouse_event('button_press')\n        );\n        top_canvas.addEventListener(\n            'mouseup',\n            this.mouse_event('button_release')\n        );\n        top_canvas.addEventListener(\n            'mousemove',\n            this.mouse_event('motion_notify')\n        );\n\n        top_canvas.addEventListener(\n            'mouseenter',\n            this.mouse_event('figure_enter')\n        );\n        top_canvas.addEventListener(\n            'mouseleave',\n            this.mouse_event('figure_leave')\n        );\n\n        top_canvas.addEventListener('wheel', this.mouse_event('scroll'));\n\n        canvas_div.appendChild(canvas);\n        canvas_div.appendChild(top_canvas);\n\n        this.top_context = utils.getContext(top_canvas);\n        this.top_context.strokeStyle = 'rgba(0, 0, 0, 255)';\n\n        // Disable right mouse context menu.\n        this.top_canvas.addEventListener('contextmenu', (_e) => {\n            _e.preventDefault();\n            _e.stopPropagation();\n            return false;\n        });\n\n        this.resize_canvas(this.model.get('_width'), this.model.get('_height'));\n        this.update_canvas();\n    }\n\n    update_canvas() {\n        if (this.canvas.width === 0 || this.canvas.height === 0) {\n            return;\n        }\n\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        this.context.drawImage(this.model.offscreen_canvas, 0, 0);\n\n        this.top_context.clearRect(\n            0,\n            0,\n            this.top_canvas.width,\n            this.top_canvas.height\n        );\n\n        // Draw rubberband\n        if (\n            this.model.get('_rubberband_width') !== 0 &&\n            this.model.get('_rubberband_height') !== 0\n        ) {\n            this.top_context.strokeRect(\n                this.model.get('_rubberband_x'),\n                this.model.get('_rubberband_y'),\n                this.model.get('_rubberband_width'),\n                this.model.get('_rubberband_height')\n            );\n        }\n\n        // Draw resize handle\n        if (this.model.get('resizable')) {\n            this.top_context.save();\n\n            const gradient = this.top_context.createLinearGradient(\n                this.top_canvas.width - this.resize_handle_size / 3,\n                this.top_canvas.height - this.resize_handle_size / 3,\n                this.top_canvas.width - this.resize_handle_size / 4,\n                this.top_canvas.height - this.resize_handle_size / 4\n            );\n            gradient.addColorStop(0, 'rgba(0, 0, 0, 0)');\n            gradient.addColorStop(1, 'rgba(0, 0, 0, 255)');\n\n            this.top_context.fillStyle = gradient;\n\n            this.top_context.globalAlpha = 0.3;\n            this.top_context.beginPath();\n            this.top_context.moveTo(\n                this.top_canvas.width,\n                this.top_canvas.height\n            );\n            this.top_context.lineTo(\n                this.top_canvas.width,\n                this.top_canvas.height - this.resize_handle_size\n            );\n            this.top_context.lineTo(\n                this.top_canvas.width - this.resize_handle_size,\n                this.top_canvas.height\n            );\n            this.top_context.closePath();\n            this.top_context.fill();\n\n            this.top_context.restore();\n        }\n    }\n\n    _update_cursor() {\n        this.top_canvas.style.cursor = this.model.get('_cursor');\n    }\n\n    _init_footer() {\n        this.footer = document.createElement('div');\n        this.footer.style.textAlign = 'center';\n        this.footer.classList.add('jupyter-widgets', 'widget-label');\n        this._update_message();\n        this.figure.appendChild(this.footer);\n    }\n\n    _update_message() {\n        this.footer.textContent = this.model.get('_message');\n    }\n\n    resize_canvas(width: number, height: number) {\n        // Keep the size of the canvas, and rubber band canvas in sync.\n        this.canvas.setAttribute('width', `${width * this.model.ratio}`);\n        this.canvas.setAttribute('height', `${height * this.model.ratio}`);\n        this.canvas.style.width = width + 'px';\n        this.canvas.style.height = height + 'px';\n\n        this.top_canvas.setAttribute('width', String(width));\n        this.top_canvas.setAttribute('height', String(height));\n\n        this.canvas_div.style.width = width + 'px';\n        this.canvas_div.style.height = height + 'px';\n\n        this.update_canvas();\n    }\n\n    mouse_event(name: string) {\n        let last_update = 0;\n        return (event: any) => {\n            const canvas_pos = utils.get_mouse_position(event, this.top_canvas);\n\n            if (name === 'scroll') {\n                event['data'] = 'scroll';\n                if (event.deltaY < 0) {\n                    event.step = 1;\n                } else {\n                    event.step = -1;\n                }\n                if (this.model.get('capture_scroll')) {\n                    event.preventDefault();\n                }\n            }\n\n            if (name === 'button_press') {\n                // If clicking on the resize handle\n                if (\n                    canvas_pos.x >=\n                        this.top_canvas.width - this.resize_handle_size &&\n                    canvas_pos.y >=\n                        this.top_canvas.height - this.resize_handle_size &&\n                    this.model.get('resizable')\n                ) {\n                    this.resizing = true;\n                    return;\n                } else {\n                    this.canvas.focus();\n                    this.canvas_div.focus();\n                }\n            }\n\n            if (this.resizing) {\n                // Ignore other mouse events while resizing.\n                return;\n            }\n\n            if (name === 'motion_notify') {\n                // If the mouse is on the handle, change the cursor style\n                if (\n                    canvas_pos.x >=\n                        this.top_canvas.width - this.resize_handle_size &&\n                    canvas_pos.y >=\n                        this.top_canvas.height - this.resize_handle_size\n                ) {\n                    this.top_canvas.style.cursor = 'nw-resize';\n                } else {\n                    this.top_canvas.style.cursor = this.model.get('_cursor');\n                }\n            }\n\n            // Rate-limit the position text updates so that we don't overwhelm the\n            // system.\n            if (Date.now() > last_update + 16) {\n                last_update = Date.now();\n\n                const x = canvas_pos.x * this.model.ratio;\n                const y = canvas_pos.y * this.model.ratio;\n\n                this.model.send_message(name, {\n                    x: x,\n                    y: y,\n                    button: event.button,\n                    step: event.step,\n                    guiEvent: utils.get_simple_keys(event),\n                });\n            }\n        };\n    }\n\n    resize_event(event: MouseEvent) {\n        if (this.resizing) {\n            const new_size = utils.get_mouse_position(event, this.top_canvas);\n\n            this.model.resize(new_size.x, new_size.y);\n        }\n    }\n\n    stop_resize_event() {\n        this.resizing = false;\n    }\n\n    key_event(name: string) {\n        return (event: KeyboardEvent) => {\n            event.stopPropagation();\n            event.preventDefault();\n\n            // Prevent repeat events\n            if (name === 'key_press') {\n                if (event.key === this._key) {\n                    return;\n                } else {\n                    this._key = event.key;\n                }\n            }\n            if (name === 'key_release') {\n                this._key = null;\n            }\n\n            let value = '';\n            if (event.ctrlKey && event.key !== 'Control') {\n                value += 'ctrl+';\n            } else if (event.altKey && event.key !== 'Alt') {\n                value += 'alt+';\n            } else if (event.shiftKey && event.key !== 'Shift') {\n                value += 'shift+';\n            }\n\n            value += 'k' + event.key;\n            this.model.send_message(name, {\n                key: value,\n                guiEvent: utils.get_simple_keys(event),\n            });\n            return false;\n        };\n    }\n\n    remove() {\n        window.removeEventListener('mousemove', this._resize_event);\n        window.removeEventListener('mouseup', this._stop_resize_event);\n    }\n}\n","import { DOMWidgetModel, DOMWidgetView } from '@jupyter-widgets/base';\n\nimport { MODULE_VERSION } from './version';\n\nexport class ToolbarModel extends DOMWidgetModel {\n    defaults() {\n        return {\n            ...super.defaults(),\n            _model_name: 'ToolbarModel',\n            _view_name: 'ToolbarView',\n            _model_module: 'jupyter-matplotlib',\n            _view_module: 'jupyter-matplotlib',\n            _model_module_version: '^' + MODULE_VERSION,\n            _view_module_version: '^' + MODULE_VERSION,\n            toolitems: [],\n            orientation: 'vertical',\n            button_style: '',\n            collapsed: true,\n            _current_action: '',\n        };\n    }\n}\n\nexport class ToolbarView extends DOMWidgetView {\n    toggle_button: HTMLButtonElement;\n    toolbar: HTMLDivElement;\n    buttons: { [index: string]: HTMLButtonElement };\n    render(): void {\n        this.el.classList.add(\n            'jupyter-widgets',\n            'jupyter-matplotlib-toolbar',\n            'widget-container',\n            'widget-box'\n        );\n\n        this.create_toolbar();\n        this.model_events();\n    }\n\n    create_toolbar(): void {\n        const toolbar_items = this.model.get('toolitems');\n\n        this.toggle_button = document.createElement('button');\n\n        this.toggle_button.classList.add(\n            'jupyter-matplotlib-button',\n            'jupyter-widgets',\n            'jupyter-button'\n        );\n        this.toggle_button.setAttribute('href', '#');\n        this.toggle_button.setAttribute('title', 'Toggle Interaction');\n        this.toggle_button.style.outline = 'none';\n        this.toggle_button.addEventListener('click', () => {\n            this.model.set('collapsed', !this.model.get('collapsed'));\n            this.model.save_changes();\n        });\n\n        const icon = document.createElement('i');\n        icon.classList.add('center', 'fa', 'fa-fw', 'fa-bars');\n        this.toggle_button.appendChild(icon);\n\n        this.el.appendChild(this.toggle_button);\n        this.toolbar = document.createElement('div');\n        this.toolbar.classList.add('widget-container', 'widget-box');\n        this.el.appendChild(this.toolbar);\n        this.buttons = { toggle_button: this.toggle_button };\n\n        for (const toolbar_ind in toolbar_items) {\n            const name = toolbar_items[toolbar_ind][0];\n            const tooltip = toolbar_items[toolbar_ind][1];\n            const image = toolbar_items[toolbar_ind][2];\n            const method_name = toolbar_items[toolbar_ind][3];\n            if (!name) {\n                continue;\n            }\n\n            const button = document.createElement('button');\n            button.classList.add(\n                'jupyter-matplotlib-button',\n                'jupyter-widgets',\n                'jupyter-button'\n            );\n            button.setAttribute('href', '#');\n            button.setAttribute('title', tooltip);\n            button.style.outline = 'none';\n            button.addEventListener(\n                'click',\n                this.toolbar_button_onclick(method_name)\n            );\n\n            const icon = document.createElement('i');\n            icon.classList.add('center', 'fa', 'fa-fw', 'fa-' + image);\n            button.appendChild(icon);\n\n            this.buttons[method_name] = button;\n\n            this.toolbar.appendChild(button);\n        }\n\n        this.set_orientation(this.el);\n        this.set_orientation(this.toolbar);\n        this.set_buttons_style();\n    }\n\n    set_orientation(el: HTMLElement): void {\n        const orientation = this.model.get('orientation');\n        if (orientation === 'vertical') {\n            el.classList.remove('widget-hbox');\n            el.classList.add('widget-vbox');\n        } else {\n            el.classList.add('widget-hbox');\n            el.classList.remove('widget-vbox');\n        }\n    }\n\n    toolbar_button_onclick(name: string) {\n        return (_event: Event): void => {\n            // Special case for pan and zoom as they are toggle buttons\n            if (name === 'pan' || name === 'zoom') {\n                if (this.model.get('_current_action') === name) {\n                    this.model.set('_current_action', '');\n                } else {\n                    this.model.set('_current_action', name);\n                }\n                this.model.save_changes();\n            }\n\n            this.send({\n                type: 'toolbar_button',\n                name: name,\n            });\n        };\n    }\n\n    set_buttons_style(): void {\n        const class_map: { [index: string]: any } = {\n            primary: ['mod-primary'],\n            success: ['mod-success'],\n            info: ['mod-info'],\n            warning: ['mod-warning'],\n            danger: ['mod-danger'],\n        };\n\n        for (const name in this.buttons) {\n            const button = this.buttons[name];\n\n            for (const class_name in class_map) {\n                button.classList.remove(class_map[class_name]);\n            }\n            button.classList.remove('mod-active');\n\n            const class_name = this.model.get('button_style');\n            if (class_name !== '') {\n                button.classList.add(class_map[class_name]);\n            }\n\n            if (name === this.model.get('_current_action')) {\n                button.classList.add('mod-active');\n            }\n        }\n    }\n\n    update_collapsed(): void {\n        this.toolbar.style.display = this.model.get('collapsed') ? '' : 'none';\n    }\n\n    model_events(): void {\n        this.model.on('change:orientation', this.update_orientation.bind(this));\n        this.model.on_some_change(\n            ['button_style', '_current_action'],\n            this.set_buttons_style,\n            this\n        );\n        this.model.on('change:collapsed', this.update_collapsed.bind(this));\n    }\n\n    update_orientation(): void {\n        this.set_orientation(this.el);\n        this.set_orientation(this.toolbar);\n    }\n}\n","// Get mouse position relative to target\nexport function get_mouse_position(event: MouseEvent, targ: HTMLElement) {\n    const boundingRect = targ.getBoundingClientRect();\n\n    return {\n        x: event.clientX - boundingRect.left,\n        y: event.clientY - boundingRect.top,\n    };\n}\n\n/*\n * return a copy of an object with only non-object keys\n * we need this to avoid circular references\n * http://stackoverflow.com/a/24161582/3208463\n */\nexport function get_simple_keys(original: any) {\n    return Object.keys(original).reduce((obj: any, key) => {\n        if (typeof original[key] !== 'object') {\n            obj[key] = original[key];\n        }\n        return obj;\n    }, {});\n}\n\n// taken from ipycanvas\n// Helpful for getting context while avoidin typescript errors about a context\n// possibly being null.\n// https://github.com/martinRenou/ipycanvas/blob/8c91ec4f634ff3661f594872e8050cf27d6db0c6/src/widget.ts#L23-L29\nexport function getContext(canvas: HTMLCanvasElement) {\n    const context = canvas.getContext('2d');\n    if (context === null) {\n        throw 'Could not create 2d context.';\n    }\n    return context;\n}\n","// eslint-disable-next-line @typescript-eslint/no-var-requires\nconst data = require('../package.json');\n\n/**\n * The _model_module_version/_view_module_version this package implements.\n *\n * The html widget manager assumes that this is the same as the npm package\n * version number.\n */\nexport const MODULE_VERSION = data.version;\n\n/*\n * The current package name.\n */\nexport const MODULE_NAME = data.name;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__jupyter_widgets_base__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n"],"sourceRoot":""}